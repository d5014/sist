<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

<h3>localStorage</h3>
<!-- 
	데이터 보존 기간 제한 없음 -> 영구적으로 보존할 수 있음
	도메인당 하나만 생성. 동일한 브라우저에서만 접근 가능
	쿠키를 이용한 설정을 대신할 수 있다.
	
	localStorage는 문자열만 저장함
 -->
 
 <p>
 	<button type="button" onclick="count()">증가</button>
 	<button type="button" onclick="deleteCount()">삭제</button>
 </p>
 <div id="log"></div>

<script type="text/javascript">

viewCount();

function viewCount(){
	//localStorage를 제공 여부 확인
	if(typeof(Storage) === "undefined") {
		return;
	}
	
	let cnt=localStorage.count;//속성으로 가져오는 방법 : 없으면 undefined
	//let cnt=localStorage.getItem("count");//메소드로 가져오는 방법 : 없으면 null
	
	
	cnt=cnt?cnt:"";//cnt가 없으면 ""으로 변환
	document.querySelector("#log").innerHTML='카운트 횟수 : '+cnt;
	
}

function count(){
	if(typeof(Storage) === "undefined") {
		return;
	}
	
	//웹 스토리지에 저장된 값 가져오기
	let cnt=localStorage.count;
	//let cnt=localStorage.getItem("count");
	
	cnt=cnt?Number(cnt)+1:1;
	
	//웹 스토리지에 저장
	localStorage.count=cnt;
	//localStorage.setItem("count",cnt);
	
	viewCount();
}

function deleteCount(){
	if(typeof(Storage) === "undefined") {
		return;
	}
	
	delete localStorage.count;//count 라는 이름으로 저장된 값 삭제
	//localStorage.removeItem("count");
	
	//localStorage에 저장된 모든 내용 삭제
	//localStorage.clear();
	viewCount();
}
</script>

</body>
</html>