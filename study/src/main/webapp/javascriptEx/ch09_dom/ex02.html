<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<script type="text/javascript">
function sub(e){
	//target : 이벤트를 발생시킨 요소
	alert(e.target.firstChild.nodeValue);
}

//노드정보
function fun1(){
	const divEl=document.querySelector('#subjectLayout');
	let str;
	
	//속성 추가
	divEl.setAttribute('title','과목');
	
	//style 속성 반환
	str=divEl.getAttribute('style');
	
	//childNodes : 자식노드(태그, 문자열, 공백, 엔터 포함)
	//console.log(divEl.childNodes);//[text, p, text, p, text, p, text]
	
	//chileren : 태그만 검색
	//console.log(divEl.children);//[p, p, p]
	
	//자식의 수를 알고싶을때
	str+=' 자식노드수(p) : '+divEl.children.length;
	
	alert(str);
}


//노드추가
var idx=0;
function fun2(){
	const divEl=document.querySelector('#subjectLayout');
	
	let node=document.createElement('p');//p태그 요소 추가
	node.setAttribute('title','추가과목 ...');
	
	//프로퍼티 방식으로 이벤트 등록
	node.onclick=function(e){sub(e);};
	
	let textNode=document.createTextNode('마지막 : '+(++idx));
	node.appendChild(textNode);//마지막에 자식 노드 추가
	
	divEl.appendChild(node);
	
}
//특정노드앞에추가
function fun3(){
	const divEl=document.querySelector('#subjectLayout');
	
	let node=document.createElement('p');
	node.setAttribute('title','추가과목 ...');
	
	node.onclick=function(e){sub(e);};
	
	let textNode=document.createTextNode('앞 - '+(++idx));
	node.appendChild(textNode);
	
	divEl.insertBefore(node, divEl.children[0]);
	//insertBefore : divEl.children[0] 가장 앞에 추가함.
}
//노드삭제(가장 앞 삭제)
function fun4(){
	const divEl=document.querySelector('#subjectLayout');
	
	if(divEl.children.length>=1){
		divEl.removeChild(divEl.children[0]);//가장 앞 삭제
	}
}
//스타일속성제거
function fun5(){
	const divEl=document.querySelector('#subjectLayout');
	divEl.style.border='none';
	
}

window.addEventListener('load',()=>{
//	const divEl=document.querySelector('#subjectLayout');
//	const pEls=divEl.querySelectorAll('p');



	const pEls=document.querySelector('#subjectLayout').children;
	for(let el of pEls){
		el.addEventListener('click',e=>sub(e));
	}
	
});

</script>

</head>
<body>

<h3>노드 추가 및 삭제</h3>

<div id="subjectLayout" style="width: 300px; height: 300px; border: 1px solid red">
	<p>자바</p>
	<p>안드로이드</p>
	<p>프레임워크</p>
</div>
<hr>

<div>
	<p>
		<button type="button" onclick="fun1();">노드정보</button>
		<button type="button" onclick="fun2();">노드추가</button>
		<button type="button" onclick="fun3();">특정노드앞에추가</button>
		<button type="button" onclick="fun4();">노드삭제</button>
		<button type="button" onclick="fun5();">스타일속성제거</button>
	</p>
</div>


</body>
</html>